{"version":3,"sources":["../../../javascript/src/events.js"],"names":[],"mappings":";;;;;;;;QAiDgB,K,GAAA,K;;;;IAjDK,M;AACnB,oBAAc;AAAA;;AACZ,SAAK,MAAL,GAAc,EAAd;AACA,SAAK,IAAL,GAAY,CAAZ;AACD;;;;uBAEE,S,EAAW,Q,EAAU;AACtB,UAAI,OAAO,KAAK,MAAL,CAAY,SAAZ,CAAX;AACA,UAAI,CAAC,IAAL,EAAW;AACT,eAAO,KAAK,MAAL,CAAY,SAAZ,IAAyB,EAAhC;AACD;AACD,UAAI,MAAM,QAAS,KAAK,IAAL,EAAnB;AACA,WAAK,GAAL,IAAY,QAAZ;AACA,aAAO,GAAP;AACD;;;wBAEG,S,EAAW,Q,EAAU;AACvB,UAAI,OAAO,KAAK,MAAL,CAAY,SAAZ,CAAX;AACA,UAAI,OAAO,QAAP,KAAqB,UAAzB,EAAqC;AACnC,aAAK,IAAI,GAAT,IAAgB,IAAhB,EAAsB;AACpB,cAAI,KAAK,cAAL,CAAoB,GAApB,CAAJ,EAA8B;AAC5B,gBAAI,KAAK,GAAL,MAAc,QAAlB,EAA4B;AAC1B,qBAAO,KAAK,GAAL,CAAP;AACA;AACD;AACF;AACF;AACF,OATD,MASO,IAAI,OAAO,QAAP,KAAqB,QAAzB,EAAmC;AACxC,YAAI,IAAJ,EAAU;AACR,iBAAO,KAAK,QAAL,CAAP;AACA;AACD;AACF,OALM,MAKA;AACL,cAAM,IAAI,KAAJ,CAAU,8BAAV,CAAN;AACD;AACF;;;4BAEO,S,EAAW,G,EAAK,O,EAAS;AAC/B,UAAI,OAAO,KAAK,MAAL,CAAY,SAAZ,CAAX;AACA,WAAK,IAAI,GAAT,IAAgB,IAAhB,EAAsB;AACpB,YAAI,KAAK,cAAL,CAAoB,GAApB,CAAJ,EAA8B;AAC5B,eAAK,GAAL,EAAU,IAAV,CAAe,OAAf,EAAwB,GAAxB;AACD;AACF;AACF;;;;;;kBA5CkB,M;;;AA+CrB,IAAI,WAAW,CAAf;;AAEO,SAAS,KAAT,CAAe,EAAf,EAAmB;AACxB,MAAI,OAAO,IAAX,EAAiB;AACf,WAAO,EAAP;AACD;AACD,MAAI,CAAC,GAAG,gBAAR,EAA0B;AACxB,OAAG,gBAAH,GAAsB,OAAO,UAA7B;AACD;AACD,SAAO,GAAG,gBAAV;AACD","file":"events.js","sourcesContent":["export default class Events {\n  constructor() {\n    this._types = {};\n    this._seq = 0;\n  }\n\n  on(eventType, listener) {\n    var subs = this._types[eventType];\n    if (!subs) {\n      subs = this._types[eventType] = {};\n    }\n    var sub = \"sub\" + (this._seq++);\n    subs[sub] = listener;\n    return sub;\n  }\n\n  off(eventType, listener) {\n    var subs = this._types[eventType];\n    if (typeof(listener) === \"function\") {\n      for (var key in subs) {\n        if (subs.hasOwnProperty(key)) {\n          if (subs[key] === listener) {\n            delete subs[key];\n            return;\n          }\n        }\n      }\n    } else if (typeof(listener) === \"string\") {\n      if (subs) {\n        delete subs[listener];\n        return;\n      }\n    } else {\n      throw new Error(\"Unexpected type for listener\");\n    }\n  }\n\n  trigger(eventType, arg, thisObj) {\n    var subs = this._types[eventType];\n    for (var key in subs) {\n      if (subs.hasOwnProperty(key)) {\n        subs[key].call(thisObj, arg);\n      }\n    }\n  }\n}\n\nvar stampSeq = 1;\n\nexport function stamp(el) {\n  if (el === null) {\n    return \"\";\n  }\n  if (!el.__crosstalkStamp) {\n    el.__crosstalkStamp = \"ct\" + stampSeq++;\n  }\n  return el.__crosstalkStamp;\n}\n"]}